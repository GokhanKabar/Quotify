{# templates/back/customer/index.html.twig #}

{% extends 'dashboard.html.twig' %}

{% block title %}Liste des clients{% endblock %}

{% block body %}
    {% set visibilityConfig = {
        'createdAt': 'hidden md:hidden sm:hidden lg:table-cell',
        'updatedAt': 'hidden md:hidden sm:hidden lg:table-cell',
        'phoneNumber': 'hidden table-cell md:table-cell sm:hidden lg:table-cell',
        'address': 'hidden table-cell md:table-cell sm:hidden lg:table-cell',
    } %}

    {% set visibilityConfigLabel = {
        'Créé le': 'hidden md:hidden sm:hidden lg:table-cell',
        'Modifié le': 'hidden md:hidden sm:hidden lg:table-cell',
        'Numéro de téléphone': 'hidden table-cell md:table-cell sm:hidden lg:table-cell',
        'Adresse': 'hidden table-cell md:table-cell sm:hidden lg:table-cell',
    } %}

    <div class="flex flex-col p-5 gap-5">
        <div class="flex items-center justify-between">
            <div class="flex">
                <h1 class="lg:text-4xl md:text-2xl text-2xl">Clients de la société</h1>
            </div>
            <div class="flex">
                {% include "components/_button.html.twig" with {
                    'path': 'company_customer_new',
                    'text': 'Créer un nouveau client',
                    'bgColor': 'blue',
                    'textColor': 'white',
                } %}
            </div>
        </div>
        {% embed "components/_table.html.twig" with {
            'arrayLabel': [
                'Nom', 'Prénom', 'Genre', 'Email', 'Adresse', 'Numéro de téléphone', 'Créé le', 'Modifié le'
            ],
            'properties': [
                'lastname', 'firstname', 'gender', 'email', 'address', 'phoneNumber' ,'createdAt', 'updatedAt'
            ],
            'arrayList': users,
            'route_show': 'company_customer_show',
            'route_edit': 'company_customer_edit',
            'visibilityConfig': visibilityConfig,
            'visibilityConfigLabel': visibilityConfigLabel,
        } %}
        {% endembed %}
    </div>
{% endblock %}
