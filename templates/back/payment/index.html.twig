{# templates/back/payment/index.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Suivi des Paiements de la Société{% endblock %}

{% block body %}
    <h1 class="text-2xl font-bold mb-4">Suivi des Paiements de la société {{ companyName }}</h1>
    <table class="w-full border-collapse">
        <thead>
        <tr class="bg-gray-200">
            <th class="px-4 py-2 border border-gray-400 text-left">ID Facture</th>
            <th class="px-4 py-2 border border-gray-400 text-left">Nom Client</th>
            <th class="px-4 py-2 border border-gray-400 text-left">Prénom Client</th>
            <th class="px-4 py-2 border border-gray-400 text-left">Date de Création</th>
            <th class="px-4 py-2 border border-gray-400 text-left">Statut de Paiement</th>
            <th class="px-4 py-2 border border-gray-400 text-left">Total</th>
        </tr>
        </thead>
        <tbody>
        {% for invoice in invoices %}
            <tr class="{{ loop.index is odd ? 'bg-white' : 'bg-gray-200' }}">
                <td class="px-4 py-2 border border-gray-400">{{ invoice.id }}</td>
                <td class="px-4 py-2 border border-gray-400">{{ invoice.userReference.lastName }}</td>
                <td class="px-4 py-2 border border-gray-400">{{ invoice.userReference.firstName }}</td>
                <td class="px-4 py-2 border border-gray-400">{{ invoice.creationDate|date('Y-m-d') }}</td>
                <td class="px-4 py-2 border border-gray-400">{{ invoice.paymentStatus }}</td>
                <td class="px-4 py-2 border border-gray-400">{{ invoice.totalPrice }}</td>
            </tr>
            {% else %}
                <tr>
                    <td class="px-4 py-2 border border-gray-400" colspan="6">Aucune facture trouvée</td>
                </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}